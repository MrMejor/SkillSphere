<div class="purchased-posts-container">
  <div class="header-section">
    <h2 class="page-title">My Purchased Courses</h2>
    <p class="page-subtitle">Your learning journey in one place</p>
  </div>
  
  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-state">
    <div class="spinner"></div>
    <p>Loading your courses...</p>
  </div>

  <!-- Empty State -->
  <div *ngIf="!isLoading && purchasedPosts.length === 0" class="empty-state">
    <div class="empty-icon">
      <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <path d="M16 10a4 4 0 0 1-8 0"></path>
      </svg>
    </div>
    <h3>No courses purchased yet</h3>
    <p>Explore our catalog to find your next learning adventure</p>
    <button class="browse-button" (click)="navigateToCatalog()">Browse Courses</button>
  </div>

  <!-- Courses Grid -->
  <div *ngIf="!isLoading && purchasedPosts.length > 0" class="courses-grid">
    <div *ngFor="let post of purchasedPosts" class="course-card" (click)="viewPost(post)">
      <div class="course-image-container">
        <img *ngIf="post.imageLoaded" 
             [src]="post.image" 
             (error)="post.imageError = true" 
             alt="{{post.name}}"
             class="course-image">
        <div *ngIf="post.imageError || !post.image" class="image-placeholder">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
            <circle cx="8.5" cy="8.5" r="1.5"></circle>
            <polyline points="21 15 16 10 5 21"></polyline>
          </svg>
          <span>No Image Available</span>
        </div>
        <div class="course-badge">Purchased</div>
      </div>
      
      <div class="course-content">
        <h3 class="course-title">{{ post.name }}</h3>
        <p class="course-description">{{ post.description }}</p>
        
        <div class="course-footer">
          <div class="price-tag">
            <span class="price">{{ post.price | currency:post.currency }}</span>
          </div>
          <button class="view-button" (click)="$event.stopPropagation(); viewPost(post)">
            View Course
          </button>
        </div>
      </div>
    </div>
  </div>
</div>